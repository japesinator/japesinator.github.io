<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title> Things I Learned Writing Trapifier.py </title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

		<div id="container">

			<div class="left">
				<h1>JP Writes Code</h1>
				<img id="about" src="/img/logo.png" height="75px" width="75px" /><br />	

				<strong>navigation</strong><br />
				<a href="/">home</a> <br />
				
					<a class="about" href="https://github.com/japesinator">github</a><br />
				
					<a class="about" href="mailto:jp@mail.writes.co.de">email</a><br />
				
					<a class="about" href="https://twitter.com/japesinator">twitter</a><br />
				
					<a class="about" href="/about">about</a><br />
				
				
				
				<div id="about">
					<strong>about</strong><br />
					I am a high school student in the midwest who likes math, computers, and other interesting things
				</div>
				
			</div>

			<div class="right">
				
				<h1>Things I Learned Writing Trapifier.py</h1>
<span class="time">27 Jan 2014</span>

<div class="content">
	<div class="post"><h1>Things I Learned Writing Trapifier.py</h1>

<p>Recently on reddit.com/r/hiphopheads, someone requested that a cover of a John Mayer song, except with trap adlibs (i.e. gunshots, airhorns, &quot;DAMN SON WHERE&#39;D YOU FIND THIS!?&quot;).  Since this was reddit, this request was obviously <a href="http://www.reddit.com/r/hiphopheads/comments/1vxdag/guys_i_need_a_favor/cewq9ao">quickly fulfilled</a> and the result was as hilarious and awesome as one would expect.  In the thread, people also posted a <a href="https://www.youtube.com/watch?v=Hu8yGh5aEwA">bunch</a> <a href="https://soundcloud.com/hennessyyoungman/cvsbangers">of</a> <a href="https://www.youtube.com/watch?v=LNT-b-yfM58&amp;feature=youtu.be">links</a> to other trap remixes of popular songs were posted.</p>

<p>I saw these and naturally thought it would be pretty fun to make my own trap remix, but I A: didn&#39;t really want to play around in audacity and try to get all the samples reasonable, and B: couldn&#39;t decide on just one song.  Naturally, I thought to make a script that would &quot;trapify&quot; songs for me, which would solve both my problems at the same time.  I sat down in front of vim and got to work.</p>

<p>The actual code for trapifier.py is fairly simple, and it&#39;s all up on my <a href="https://github.com/japesinator/trapifier.py">github</a>.  While a code analysis could be done, in my opinion, a far more interesting analysis is that of the design and distribution of the code.  Thus, below is my list of things learned writing trapifier.py.</p>

<ul>
<li>  Python has libraries for <em>everything</em></li>
</ul>

<p>I was at first a little worried about actually handling the audio files in python, since my knowledge of audio codecs and how to  manipulate them is fuzzy at best, but a quick google search for &quot;mix audio in python&quot; turned up <a href="http://pydub.com/">pydub</a>, which ended up solving pretty much all my audio problems at once.  Later, when I was trying to make it work well from the command line and failing miserably to get optional arguments to work like I wanted, another google search turned up <a href="http://docs.python.org/dev/library/argparse.html">argparse</a>, which might be the single most useful python library I&#39;ve seen since os.</p>

<ul>
<li>  Computer-timed isn&#39;t always better than random</li>
</ul>

<p>When I first started the project, I thought that I would make the overlaying function context-dependant, so that for instance when the song crescendoed, the algorithm would place &quot;bigger&quot; samples.  But, as it turns out, this kind of analysis is hard, and the changes in songs significant enough to be picked up by my (admittedly clumsy) algorithms were so infrequent as to place samples far too infrequently.  Instead, I chose to place a sample every 1.5-6 seconds and hope that it would sync well.  As it turns out, this actually works about as well as manual placement, albeit much faster.</p>

<ul>
<li>  r/hiphopheads has a surprising number of programmers.</li>
</ul>

<p>For music-focused subreddit, the number of intelligent programmers on r/hiphopheads is surprisingly high.  While there were some comments along the lines of &quot;You go to MIT?!?!&quot; (because I MIT licensed the code) and &quot;Super dope script bruh. Algorithmically this is some e=mc2 shit,&quot; there were also a surprising number of helpful comments about the actual code and what to do with it.  People talked about refactoring code and using os.path.join for more cross-compatibility and generally gave helpful advice about the design of the program, something I did not see coming from where it did.</p>

<ul>
<li>  Windows is hard.</li>
</ul>

<p>For reference, I don&#39;t actually own a Windows machine I can test on, so maybe I&#39;m exaggerating here, but it seems to me that it would take more time to get the script to work on Windows (without python already installed) than it would to write it in the first place.  At some point I should probably learn Windows, as pretty much everything I do with computers I do worse on Windows, but that point has yet to arrive.</p>

<ul>
<li>  Programming is really fun</li>
</ul>

<p>I suppose I didn&#39;t really <em>learn</em> this, since I had known it before, but the actual writing of the code for this project was one of the most enjoyable things I had done in a while.</p>
</div>
</div>

				
				<footer>
					 
            <p>JP Smith made this</p>
					
				</footer>
			</div>
		
		</div>

    </body>
</html>
